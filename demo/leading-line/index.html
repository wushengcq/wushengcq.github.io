<html>
<head>
	<title>Leaflet.js Leading Line Test</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
	<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache"> 
	<meta HTTP-EQUIV="Expires" CONTENT="0"> 
	<!-- import Leaflet -->
    <link rel="stylesheet" 
		href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" 
		integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" 
		crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" 
		integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" 
		crossorigin=""></script>

	<script src="./js/LeadingLine.js"></script>
<head>
<body onload="loadMap()">
	<div id="map" style="width:800px;height:400px;background-color:#ffffff;"></div>
	<br>
	<script>
	var _map = null;

	function loadMap() {
		_map = L.map('map', {
			center: [30.557156, 110.577026],
	        zoom:5,
	        minZoom: 0,
	        maxZoom: 21,
	        markerZoomAnimation: false,
	        closePopupOnClick: false,
	        maxBounds: [[-90, -180],[90, 180]],
	        renderer: L.canvas()
		});

		L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
		    attribution: 'cartodb-basemaps',
	        subdomains: 'abcd',
			maxZoom: 19
		}).addTo(_map);

		addLeadingLine();
    }

	function addLeadingLine() {
        var latlngs = [
            [30.661057, 104.081757], 
            [29.558176, 106.510338], 
            [28.200825, 112.98127],
            [30.567514, 114.291939], 
            [31.863255, 117.275703], 
            [31.106981, 121.37156] 
        ];
		
		var leadingLine = L.leadingLine(latlngs, {
            color: '#00ff00',
            weight: 20,
			borderSize: 1,
			borderColor: '#eeeeee',
			signColor: '#333333',
            opacity: 0.8,
        }).addTo(_map);

		_map.fitBounds(leadingLine.getBounds());
    }
	
    </script>
</body>
</html>
